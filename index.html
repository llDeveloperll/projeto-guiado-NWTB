<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formúlario Newtab</title>
    <link rel="stylesheet" href="./assets/css/style.css">
</head>
<body>
    <header class="header">
        <img src="./assets/images/logo.png" alt="logo newtab">
        <div class="menu">
            <a href="./index.html">
                Listagem
            </a>
            <a href="./src/form.html">
                Cadastrar
            </a>
        </div>
    </header>
    <section>
        <table id="list" class="list">
            <!--tr>
                <td style="width:15%;">
                    Nome
                </td>
                <td style="width: 10%;">
                    Telefone
                </td>
                <td style="width: 8%;">
                    Experiência Prévia
                </td>
                <td style="width: 10%;">
                    Ações
                </td>
            </tr>
            <tr style="background-color: #2f9255;">
                <td>
                    Joãozinho da Silva
                </td>
                <td>
                    +55 (99) 99999-9999
                </td>
                <td>
                    Sim
                </td>
                <td>
                    <button> Alterar</button>
                </td>
            </tr>
            <tr style="background-color: #ab362e;">
                <td>
                    Juliozinho Gabriel
                </td>
                <td>
                    +55 (11) 88888-8888
                </td>
                <td>
                    Não
                </td>
                <td>
                    <button> Alterar</button>
                </td>
            </tr-->
        </table>
    </section>
</body>
    <script type="text/javascript">
        var table = document.getElementById("list");

        table.style.width = '100%';
        table.style.marginTop = '7px';
        table.style.borderSpacing = '0';

        var prct = ['15%','10%','8%','10%']

        function applyStylesheet(i,o,element,expState) {
            element.style.backgroundColor = "#000000";
            element.style.color = "white"
            element.style.fontWeight = "bold"
            element.style.padding = '7px'
            element.style.textAlign = 'center'

            if (i != 0) {
                element.style.backgroundColor = (expState== "sim") ? "#2f9255" : "#ab362e";
            } else {
                element.style.verticalAlign = "top";
                element.style.width = prct[o]
            }
        }

        function criarTabela(conteudo) {
            var tabela = document.createElement("table");
            var thead = document.createElement("thead");
            var tbody=document.createElement("tbody");
            var thd=function(i){ return (i==0) ? "th" : "td";};

            for (var i=0; i < conteudo.length; i++) {
                var tr = document.createElement("tr");


                for(var o=0;o<conteudo[i].length;o++){

                    if (o != conteudo[i].length) {

                        var t = document.createElement(thd(i));

                        var texto=document.createTextNode(conteudo[i][o]);
                        t.appendChild(texto);

                        applyStylesheet(i,o,t,conteudo[i][2]);

                    } else if ( o+1 == conteudo[i].length && i != 0) {
                        console.log('here' + 0)
                        var t = document.createElement('button');
                        var texto=document.createTextNode(conteudo[i][o]);
                        t.appendChild(texto);
                        
                    };

                    tr.appendChild(t);

                }


                (i==0)?thead.appendChild(tr):tbody.appendChild(tr);
                
            }

            table.appendChild(thead);
            table.appendChild(tbody);

        }

        criarTabela([
            ["Nome", "Telefone","Experiência Prévia","ações"],
            ["matheus",  "+55 (99) 99999-9999","sim","alterar"],
            ["cristian", "+55 (88) 88888-8888","não","alterar"],
            ["pedro",    "+55 (77) 77777-7777","sim","alterar"],
            ["henrique", "+55 (66) 66666-6666","não","alterar"],
            ["mariana", "+55 (55) 55555-5555","não","alterar"],
            ["angelica", "+55 (44) 44444-4444","sim","alterar"],
            ["lidia", "+55 (33) 33333-3333","não","alterar"],
            ["priscila", "+55 (22) 22222-2222","sim","alterar"],
            ["maria", "+55 (11) 11111-1111","sim","alterar"]
        ])
    </script>
</html>